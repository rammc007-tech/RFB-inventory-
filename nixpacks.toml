# Nixpacks configuration for Railway
# Industry-standard Next.js + Prisma deployment

[phases.setup]
nixPkgs = ["nodejs-18_x"]

[phases.install]
cmds = ["npm ci --prefer-offline --no-audit || npm install --prefer-offline --no-audit"]

[phases.build]
cmds = [
  "npx prisma generate",
  "NODE_ENV=production next build"
]
